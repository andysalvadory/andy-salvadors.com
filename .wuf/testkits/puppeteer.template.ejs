import 'regenerator-runtime/runtime';
import {
  puppeteerTestkitFactoryCreator,
  puppeteerUniTestkitFactoryCreator,
} from 'wix-ui-test-utils/puppeteer';

import tooltipDriverFactory from '../src/Tooltip/Tooltip.puppeteer.driver';
import { tooltipDriverFactory as tooltipNextDriverFactory } from '../src/Tooltip/TooltipNext/Tooltip.uni.driver';

export const tooltipTestkitFactory = puppeteerTestkitFactoryCreator(
  tooltipDriverFactory,
);

export const TooltipTestkit = puppeteerUniTestkitFactoryCreator(
  tooltipNextDriverFactory,
);
<%
  components
  .filter(component => !component.noTestkit)
  .filter(component => !component.noPuppeteerTestkit)
  .filter(component => !component.manualExport)
  .map(component => {
    const camelName = utils.toCamel(component.name);
    const driverFactory = camelName + 'DriverFactory';
    const driverPath = component.puppeteerTestkitPath || component.testkitPath || [
      '../src',
      component.name,
      component.name + (component.puppeteerUnidriver ? '.uni.driver' : '.puppeteer.driver'),
    ].join('\/');

    const testkitName = camelName + 'TestkitFactory';
    const factoryName = component.puppeteerUnidriver || component.unidriver ? 'puppeteerUniTestkitFactoryCreator' : 'puppeteerTestkitFactoryCreator';
    const exportName = component.puppeteerTestkitExportName || testkitName;

    if (component.namedPuppeteerTestkitExport) { %>
import { <%= component.puppeteerTestkitImportName || driverFactory %> } from '<%= driverPath %>';<% } else { %>
import <%= driverFactory %> from '<%= driverPath %>';<% } %>

export const <%= exportName %> = <%= factoryName%>(
  <%= component.puppeteerTestkitImportName || driverFactory %>,
);
<% }) %>
